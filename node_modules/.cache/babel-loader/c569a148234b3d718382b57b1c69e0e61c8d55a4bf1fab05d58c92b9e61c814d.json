{"ast":null,"code":"import _slicedToArray from\"D:/amazon clone/source/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams,Link}from\"react-router-dom\";import{useState,useEffect}from\"react\";import{useDispatch}from\"react-redux\";import{ProductDetails}from\"./\";import{IND_CURRENCY}from\"../utils/constants\";import{callAPI}from\"../utils/CallApi\";import{addToCart}from\"../redux/cartSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(\"1\"),_useState4=_slicedToArray(_useState3,2),quantity=_useState4[0],setQuantity=_useState4[1];var dispatch=useDispatch();var getProduct=function getProduct(){callAPI(\"data/products.json\").then(function(productResults){setProduct(productResults[id]);});};var addQuantityToProduct=function addQuantityToProduct(){setProduct(product.quantity=quantity);return product;};useEffect(function(){getProduct();},[]);if(!(product!==null&&product!==void 0&&product.title))return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading Product ...\"});return product&&/*#__PURE__*/_jsx(\"div\",{className:\"h-screen bg-amazonclone-background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"min-w-[1000px] max-w-[1500px] m-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-10 gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-3 p-8 rounded bg-white m-auto\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(product.image),alt:\"Main product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-5 p-4 rounded bg-white divide-y divide-gray-400\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(ProductDetails,{product:product,ratings:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-base xl:text-lg mt-3\",children:product.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2 p-4 rounded bg-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl xl:text-2xl text-red-700 text-right font-semibold\",children:IND_CURRENCY.format(product.price)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-base xl:text-lg text-gray-500 text-right font-semibold\",children:[\"Rs:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"line-through\",children:IND_CURRENCY.format(product.oldPrice)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm xl:text-base text-blue-500 font-semibold mt-3\",children:\"FREE Returns\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm xl:text-base text-blue-500 font-semibold mt-1\",children:\"FREE Delivery\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-base xl:text-lg text-green-700 font-semibold mt-1\",children:\"In Stock\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-base xl:text-lg mt-1\",children:[\"Quantity:\",/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setQuantity(e.target.value);},className:\"p-2 bg-white border rounded-md focus:border-indigo-600\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"3\"})]})]}),/*#__PURE__*/_jsx(Link,{to:\"/checkout\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return dispatch(addToCart(addQuantityToProduct()));},className:\"btn\",children:\"Add to Cart\"})})]})]})})});};export default ProductPage;","map":{"version":3,"names":["useParams","Link","useState","useEffect","useDispatch","ProductDetails","IND_CURRENCY","callAPI","addToCart","jsx","_jsx","jsxs","_jsxs","ProductPage","_useParams","id","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","quantity","setQuantity","dispatch","getProduct","then","productResults","addQuantityToProduct","title","children","className","src","concat","image","alt","ratings","description","format","price","oldPrice","onChange","e","target","value","to","onClick"],"sources":["D:/amazon clone/source/src/components/ProductPage.jsx"],"sourcesContent":["import { useParams, Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { ProductDetails } from \"./\";\nimport { IND_CURRENCY } from \"../utils/constants\";\nimport { callAPI } from \"../utils/CallApi\";\nimport { addToCart } from \"../redux/cartSlice\";\n\nconst ProductPage = () => {\n  const { id } = useParams();\n  const [product, setProduct] = useState(null);\n  const [quantity, setQuantity] = useState(\"1\");\n  const dispatch = useDispatch();\n\n  const getProduct = () => {\n    callAPI(`data/products.json`).then((productResults) => {\n      setProduct(productResults[id]);\n    });\n  };\n\n  const addQuantityToProduct = () => {\n    setProduct((product.quantity = quantity));\n    return product;\n  };\n\n  useEffect(() => {\n    getProduct();\n  }, []);\n\n  if (!product?.title) return <h1>Loading Product ...</h1>;\n\n  return (\n    product && (\n      <div className=\"h-screen bg-amazonclone-background\">\n        <div className=\"min-w-[1000px] max-w-[1500px] m-auto p-4\">\n          <div className=\"grid grid-cols-10 gap-2\">\n            {/* Left */}\n            <div className=\"col-span-3 p-8 rounded bg-white m-auto\">\n              <img src={`${product.image}`} alt=\"Main product\" />\n            </div>\n            {/* Middle */}\n            <div className=\"col-span-5 p-4 rounded bg-white divide-y divide-gray-400\">\n              <div className=\"mb-3\">\n                <ProductDetails product={product} ratings={true} />\n              </div>\n              <div className=\"text-base xl:text-lg mt-3\">\n                {product.description}\n              </div>\n            </div>\n            {/* Right */}\n            <div className=\"col-span-2 p-4 rounded bg-white\">\n              <div className=\"text-xl xl:text-2xl text-red-700 text-right font-semibold\">\n                {IND_CURRENCY.format(product.price)}\n              </div>\n              <div className=\"text-base xl:text-lg text-gray-500 text-right font-semibold\">\n                Rs:{\" \"}\n                <span className=\"line-through\">\n                  {IND_CURRENCY.format(product.oldPrice)}\n                </span>\n              </div>\n              <div className=\"text-sm xl:text-base text-blue-500 font-semibold mt-3\">\n                FREE Returns\n              </div>\n              <div className=\"text-sm xl:text-base text-blue-500 font-semibold mt-1\">\n                FREE Delivery\n              </div>\n              <div className=\"text-base xl:text-lg text-green-700 font-semibold mt-1\">\n                In Stock\n              </div>\n              <div className=\"text-base xl:text-lg mt-1\">\n                Quantity:\n                <select\n                  onChange={(e) => setQuantity(e.target.value)}\n                  className=\"p-2 bg-white border rounded-md focus:border-indigo-600\"\n                >\n                  <option>1</option>\n                  <option>2</option>\n                  <option>3</option>\n                </select>\n              </div>\n              <Link to={\"/checkout\"}>\n                <button\n                  onClick={() => dispatch(addToCart(addQuantityToProduct()))}\n                  className=\"btn\"\n                >\n                  Add to Cart\n                </button>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  );\n};\n\nexport default ProductPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}