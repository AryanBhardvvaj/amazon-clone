{"ast":null,"code":"import _slicedToArray from\"D:/amazon clone/source/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{MagnifyingGlassIcon}from\"@heroicons/react/24/outline\";import{useState,useEffect}from\"react\";import{useNavigate,createSearchParams}from\"react-router-dom\";import{callAPI}from\"../utils/CallApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),suggestions=_useState2[0],setSuggestions=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];var _useState5=useState(\"All\"),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var navigate=useNavigate();var onHandleSubmit=function onHandleSubmit(e){e.preventDefault();navigate({pathname:\"search\",search:\"\".concat(createSearchParams({category:\"\".concat(category),searchTerm:\"\".concat(searchTerm)}))});setSearchTerm(\"\");setCategory(\"All\");};var getSuggestions=function getSuggestions(){callAPI(\"data/suggestions.json\").then(function(suggestionResults){setSuggestions(suggestionResults);});};useEffect(function(){getSuggestions();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-[100%]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center h-10 bg-amazonclone-yellow rounded\",children:[/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setCategory(e.target.value);},className:\"p-2 bg-gray-300 text-black border text-xs xl:text-sm allnav\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Prime Day\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Alexa Skills\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Amazon Devices\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Amazon Fashion\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Amazon Pharmacy\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Appliences\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Apps & Games\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Baby\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Beauty\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Books\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Car & Motorbike\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Clothing & Accessories\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Collectables\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Computers & Accessories\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Electronics\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Furniture\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Garden & Outdoors\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Gift Cards\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Grocery\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Helth\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Home & Kitchen\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Laxury\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Movie\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Music\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Toys & Games\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Video\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Watches\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"flex grow items-center h-[100%] rounded-l text-black\",type:\"text\",placeholder:\"Search Amazon.in\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:onHandleSubmit,className:\"w-[45px]\",children:/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-[27px] m-auto stroke-slate-900\"})})]}),suggestions&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white text-black w-full z-40 absolute\",children:suggestions.filter(function(suggestion){var currentSearchTerm=searchTerm.toLowerCase();var title=suggestion.title.toLowerCase();return currentSearchTerm&&title.startsWith(currentSearchTerm)&&title!==currentSearchTerm;}).slice(0,10).map(function(suggestion){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setSearchTerm(suggestion.title);},children:suggestion.title},suggestion.id);})})]});};export default Search;","map":{"version":3,"names":["MagnifyingGlassIcon","useState","useEffect","useNavigate","createSearchParams","callAPI","jsx","_jsx","jsxs","_jsxs","Search","_useState","_useState2","_slicedToArray","suggestions","setSuggestions","_useState3","_useState4","searchTerm","setSearchTerm","_useState5","_useState6","category","setCategory","navigate","onHandleSubmit","e","preventDefault","pathname","search","concat","getSuggestions","then","suggestionResults","className","children","onChange","target","value","type","placeholder","onClick","filter","suggestion","currentSearchTerm","toLowerCase","title","startsWith","slice","map","id"],"sources":["D:/amazon clone/source/src/components/Search.jsx"],"sourcesContent":["import { MagnifyingGlassIcon } from \"@heroicons/react/24/outline\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, createSearchParams } from \"react-router-dom\";\n\nimport { callAPI } from \"../utils/CallApi\";\n\nconst Search = () => {\n  const [suggestions, setSuggestions] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [category, setCategory] = useState(\"All\");\n  const navigate = useNavigate();\n\n  const onHandleSubmit = (e) => {\n    e.preventDefault();\n\n    navigate({\n      pathname: \"search\",\n      search: `${createSearchParams({\n        category: `${category}`,\n        searchTerm: `${searchTerm}`,\n      })}`,\n    });\n\n    setSearchTerm(\"\");\n    setCategory(\"All\");\n  };\n\n  const getSuggestions = () => {\n    callAPI(`data/suggestions.json`).then((suggestionResults) => {\n      setSuggestions(suggestionResults);\n    });\n  };\n\n  useEffect(() => {\n    getSuggestions();\n  }, []);\n\n  return (\n    <div className=\"w-[100%]\">\n      <div className=\"flex items-center h-10 bg-amazonclone-yellow rounded\">\n        <select\n          onChange={(e) => setCategory(e.target.value)}\n          className=\"p-2 bg-gray-300 text-black border text-xs xl:text-sm allnav\"\n        >\n          <option>All</option>\n          <option>Prime Day</option>\n          <option>Alexa Skills</option>\n          <option>Amazon Devices</option>\n          <option>Amazon Fashion</option>\n          <option>Amazon Pharmacy</option>\n          <option>Appliences</option>\n          <option>Apps & Games</option>\n          <option>Baby</option>\n          <option>Beauty</option>\n          <option>Books</option>\n          <option>Car & Motorbike</option>\n          <option>Clothing & Accessories</option>\n          <option>Collectables</option>\n          <option>Computers & Accessories</option>\n          <option>Electronics</option>\n          <option>Furniture</option>\n          <option>Garden & Outdoors</option>\n          <option>Gift Cards</option>\n          <option>Grocery</option>\n          <option>Helth</option>\n          <option>Home & Kitchen</option>\n          <option>Laxury</option>\n          <option>Movie</option>\n          <option>Music</option>\n          <option>Toys & Games</option>\n          <option>Video</option>\n          <option>Watches</option>\n        </select>\n        <input\n          className=\"flex grow items-center h-[100%] rounded-l text-black\"\n          type=\"text\"\n          placeholder=\"Search Amazon.in\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <button onClick={onHandleSubmit} className=\"w-[45px]\">\n          <MagnifyingGlassIcon className=\"h-[27px] m-auto stroke-slate-900\" />\n        </button>\n      </div>\n      {suggestions && (\n        <div className=\"bg-white text-black w-full z-40 absolute\">\n          {suggestions\n            .filter((suggestion) => {\n              const currentSearchTerm = searchTerm.toLowerCase();\n              const title = suggestion.title.toLowerCase();\n              return (\n                currentSearchTerm &&\n                title.startsWith(currentSearchTerm) &&\n                title !== currentSearchTerm\n              );\n            })\n            .slice(0, 10)\n            .map((suggestion) => (\n              <div\n                key={suggestion.id}\n                onClick={() => setSearchTerm(suggestion.title)}\n              >\n                {suggestion.title}\n              </div>\n            ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n"],"mappings":"4GAAA,OAASA,mBAAmB,KAAQ,6BAA6B,CACjE,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,kBAAkB,KAAQ,kBAAkB,CAElE,OAASC,OAAO,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3C,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnB,IAAAC,SAAA,CAAsCV,QAAQ,CAAC,IAAI,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAoCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAAgCnB,QAAQ,CAAC,KAAK,CAAC,CAAAoB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAxCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,GAAM,CAAAG,QAAQ,CAAGrB,WAAW,EAAE,CAE9B,GAAM,CAAAsB,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,CAAC,CAAK,CAC5BA,CAAC,CAACC,cAAc,EAAE,CAElBH,QAAQ,CAAC,CACPI,QAAQ,CAAE,QAAQ,CAClBC,MAAM,IAAAC,MAAA,CAAK1B,kBAAkB,CAAC,CAC5BkB,QAAQ,IAAAQ,MAAA,CAAKR,QAAQ,CAAE,CACvBJ,UAAU,IAAAY,MAAA,CAAKZ,UAAU,CAC3B,CAAC,CAAC,CACJ,CAAC,CAAC,CAEFC,aAAa,CAAC,EAAE,CAAC,CACjBI,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAED,GAAM,CAAAQ,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B1B,OAAO,yBAAyB,CAAC2B,IAAI,CAAC,SAACC,iBAAiB,CAAK,CAC3DlB,cAAc,CAACkB,iBAAiB,CAAC,CACnC,CAAC,CAAC,CACJ,CAAC,CAED/B,SAAS,CAAC,UAAM,CACd6B,cAAc,EAAE,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEtB,KAAA,QAAKyB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB1B,KAAA,QAAKyB,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnE1B,KAAA,WACE2B,QAAQ,CAAE,SAAAA,SAACV,CAAC,QAAK,CAAAH,WAAW,CAACG,CAAC,CAACW,MAAM,CAACC,KAAK,CAAC,EAAC,CAC7CJ,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eAEvE5B,IAAA,WAAA4B,QAAA,CAAQ,KAAG,EAAS,cACpB5B,IAAA,WAAA4B,QAAA,CAAQ,WAAS,EAAS,cAC1B5B,IAAA,WAAA4B,QAAA,CAAQ,cAAY,EAAS,cAC7B5B,IAAA,WAAA4B,QAAA,CAAQ,gBAAc,EAAS,cAC/B5B,IAAA,WAAA4B,QAAA,CAAQ,gBAAc,EAAS,cAC/B5B,IAAA,WAAA4B,QAAA,CAAQ,iBAAe,EAAS,cAChC5B,IAAA,WAAA4B,QAAA,CAAQ,YAAU,EAAS,cAC3B5B,IAAA,WAAA4B,QAAA,CAAQ,cAAY,EAAS,cAC7B5B,IAAA,WAAA4B,QAAA,CAAQ,MAAI,EAAS,cACrB5B,IAAA,WAAA4B,QAAA,CAAQ,QAAM,EAAS,cACvB5B,IAAA,WAAA4B,QAAA,CAAQ,OAAK,EAAS,cACtB5B,IAAA,WAAA4B,QAAA,CAAQ,iBAAe,EAAS,cAChC5B,IAAA,WAAA4B,QAAA,CAAQ,wBAAsB,EAAS,cACvC5B,IAAA,WAAA4B,QAAA,CAAQ,cAAY,EAAS,cAC7B5B,IAAA,WAAA4B,QAAA,CAAQ,yBAAuB,EAAS,cACxC5B,IAAA,WAAA4B,QAAA,CAAQ,aAAW,EAAS,cAC5B5B,IAAA,WAAA4B,QAAA,CAAQ,WAAS,EAAS,cAC1B5B,IAAA,WAAA4B,QAAA,CAAQ,mBAAiB,EAAS,cAClC5B,IAAA,WAAA4B,QAAA,CAAQ,YAAU,EAAS,cAC3B5B,IAAA,WAAA4B,QAAA,CAAQ,SAAO,EAAS,cACxB5B,IAAA,WAAA4B,QAAA,CAAQ,OAAK,EAAS,cACtB5B,IAAA,WAAA4B,QAAA,CAAQ,gBAAc,EAAS,cAC/B5B,IAAA,WAAA4B,QAAA,CAAQ,QAAM,EAAS,cACvB5B,IAAA,WAAA4B,QAAA,CAAQ,OAAK,EAAS,cACtB5B,IAAA,WAAA4B,QAAA,CAAQ,OAAK,EAAS,cACtB5B,IAAA,WAAA4B,QAAA,CAAQ,cAAY,EAAS,cAC7B5B,IAAA,WAAA4B,QAAA,CAAQ,OAAK,EAAS,cACtB5B,IAAA,WAAA4B,QAAA,CAAQ,SAAO,EAAS,GACjB,cACT5B,IAAA,UACE2B,SAAS,CAAC,sDAAsD,CAChEK,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,kBAAkB,CAC9BF,KAAK,CAAEpB,UAAW,CAClBkB,QAAQ,CAAE,SAAAA,SAACV,CAAC,QAAK,CAAAP,aAAa,CAACO,CAAC,CAACW,MAAM,CAACC,KAAK,CAAC,EAAC,EAC/C,cACF/B,IAAA,WAAQkC,OAAO,CAAEhB,cAAe,CAACS,SAAS,CAAC,UAAU,CAAAC,QAAA,cACnD5B,IAAA,CAACP,mBAAmB,EAACkC,SAAS,CAAC,kCAAkC,EAAG,EAC7D,GACL,CACLpB,WAAW,eACVP,IAAA,QAAK2B,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CACtDrB,WAAW,CACT4B,MAAM,CAAC,SAACC,UAAU,CAAK,CACtB,GAAM,CAAAC,iBAAiB,CAAG1B,UAAU,CAAC2B,WAAW,EAAE,CAClD,GAAM,CAAAC,KAAK,CAAGH,UAAU,CAACG,KAAK,CAACD,WAAW,EAAE,CAC5C,MACE,CAAAD,iBAAiB,EACjBE,KAAK,CAACC,UAAU,CAACH,iBAAiB,CAAC,EACnCE,KAAK,GAAKF,iBAAiB,CAE/B,CAAC,CAAC,CACDI,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CACZC,GAAG,CAAC,SAACN,UAAU,qBACdpC,IAAA,QAEEkC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAtB,aAAa,CAACwB,UAAU,CAACG,KAAK,CAAC,EAAC,CAAAX,QAAA,CAE9CQ,UAAU,CAACG,KAAK,EAHZH,UAAU,CAACO,EAAE,CAId,EACP,CAAC,EAEP,GACG,CAEV,CAAC,CAED,cAAe,CAAAxC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}