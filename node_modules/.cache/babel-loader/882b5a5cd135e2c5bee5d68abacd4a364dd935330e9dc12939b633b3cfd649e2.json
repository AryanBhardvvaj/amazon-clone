{"ast":null,"code":"import _objectSpread from\"D:/amazon clone/source/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";var initialState={products:[],productsNumber:0};export var cartSlice=createSlice({name:\"cart\",initialState:initialState,reducers:{addToCart:function addToCart(state,action){var addProductExists=state.products.find(function(product){return product.id===action.payload.id;});if(addProductExists){addProductExists.quantity+=parseInt(action.payload.quantity);}else{state.products.push(_objectSpread(_objectSpread({},action.payload),{},{quantity:parseInt(action.payload.quantity)}));}state.productsNumber=state.productsNumber+parseInt(action.payload.quantity);},removeFromCart:function removeFromCart(state,action){// find the product removing the array\nvar productToRemove=state.products.find(function(product){return product.id===action.payload;});// remove the quantity from product number\nstate.productsNumber=state.productsNumber-productToRemove.quantity;// find index of the product removing\nvar index=state.products.findIndex(function(product){return product.id===action.payload;});// remove from the array\nstate.products.splice(index,1);},incrementInCart:function incrementInCart(state,action){var itemInc=state.products.find(function(item){return item.id===action.payload;});if(itemInc.quantity>=1){itemInc.quantity=itemInc.quantity+1;}state.productsNumber=state.productsNumber+1;},decrementInCart:function decrementInCart(state,action){var itemDec=state.products.find(function(item){return item.id===action.payload;});if(itemDec.quantity===1){var index=state.products.findIndex(function(item){return item.id===action.payload;});state.products.splice(index,1);}else{itemDec.quantity--;}state.productsNumber=state.productsNumber-1;}}});var _cartSlice$actions=cartSlice.actions,addToCart=_cartSlice$actions.addToCart,removeFromCart=_cartSlice$actions.removeFromCart,incrementInCart=_cartSlice$actions.incrementInCart,decrementInCart=_cartSlice$actions.decrementInCart;export{addToCart,removeFromCart,incrementInCart,decrementInCart};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","products","productsNumber","cartSlice","name","reducers","addToCart","state","action","addProductExists","find","product","id","payload","quantity","parseInt","push","_objectSpread","removeFromCart","productToRemove","index","findIndex","splice","incrementInCart","itemInc","item","decrementInCart","itemDec","_cartSlice$actions","actions","reducer"],"sources":["D:/amazon clone/source/src/redux/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  products: [],\n  productsNumber: 0,\n};\n\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addToCart: (state, action) => {\n      \n      const addProductExists = state.products.find(\n        (product) => product.id === action.payload.id\n      );\n      if (addProductExists) {\n        addProductExists.quantity += parseInt(action.payload.quantity);\n      } else {\n        state.products.push({\n          ...action.payload,\n          quantity: parseInt(action.payload.quantity),\n        });\n      }\n      state.productsNumber =\n        state.productsNumber + parseInt(action.payload.quantity);\n    },\n    removeFromCart: (state, action) => {\n      // find the product removing the array\n      const productToRemove = state.products.find(\n        (product) => product.id === action.payload\n      );\n      // remove the quantity from product number\n      state.productsNumber = state.productsNumber - productToRemove.quantity;\n      // find index of the product removing\n      const index = state.products.findIndex(\n        (product) => product.id === action.payload\n      );\n      // remove from the array\n      state.products.splice(index, 1);\n    },\n    incrementInCart: (state, action) => {\n      const itemInc = state.products.find((item) => item.id === action.payload);\n      if (itemInc.quantity >= 1) {\n        itemInc.quantity = itemInc.quantity + 1;\n      }\n      state.productsNumber = state.productsNumber + 1;\n    },\n    decrementInCart: (state, action) => {\n      const itemDec = state.products.find((item) => item.id === action.payload);\n      if (itemDec.quantity === 1) {\n        const index = state.products.findIndex(\n          (item) => item.id === action.payload\n        );\n        state.products.splice(index, 1);\n      } else {\n        itemDec.quantity--;\n      }\n      state.productsNumber = state.productsNumber - 1;\n    },\n  },\n});\n\nexport const { addToCart, removeFromCart, incrementInCart, decrementInCart } =\n  cartSlice.actions;\nexport default cartSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}