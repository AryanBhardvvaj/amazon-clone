{"ast":null,"code":"import _slicedToArray from\"D:/amazon clone/source/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useSearchParams,Link}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{ProductDetails}from\"./\";import{callAPI}from\"../utils/CallApi\";import{IND_CURRENCY}from\"../utils/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResults=function SearchResults(){var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var getSearchResults=function getSearchResults(){var searchTerm=searchParams.get(\"searchTerm\");var category=searchParams.get(\"category\");callAPI(\"data/search.json\").then(function(searchResults){var categoryResults=searchResults[category];if(searchTerm){var results=categoryResults.filter(function(product){return product.title.toLowerCase().includes(searchTerm.toLowerCase());});setProducts(results);}else{setProducts(categoryResults);}});};useEffect(function(){getSearchResults();},[searchParams]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-w-[1200px] max-w-[1300px] m-auto pt-4\",children:products&&products.map(function(product,key){return/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-[250px] grid grid-cols-12 rounded mt-1 mb-1 \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 p-4 bg-gray-200\",children:/*#__PURE__*/_jsx(\"img\",{className:\"m-auto\",src:product.image_small,alt:\"Search result product\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-10 bg-gray-50 border border-gray-100 hover:bg-gray-100 \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium text-black p-2\",children:[/*#__PURE__*/_jsx(ProductDetails,{product:product,ratings:true}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl xl:text-2xl pt-1\",children:IND_CURRENCY.format(product.price)})]})})]})},key);})});};export default SearchResults;","map":{"version":3,"names":["useSearchParams","Link","useEffect","useState","ProductDetails","callAPI","IND_CURRENCY","jsx","_jsx","jsxs","_jsxs","SearchResults","_useSearchParams","_useSearchParams2","_slicedToArray","searchParams","_useState","_useState2","products","setProducts","getSearchResults","searchTerm","get","category","then","searchResults","categoryResults","results","filter","product","title","toLowerCase","includes","className","children","map","key","to","concat","id","src","image_small","alt","ratings","format","price"],"sources":["D:/amazon clone/source/src/components/SearchResults.jsx"],"sourcesContent":["import { useSearchParams, Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { ProductDetails } from \"./\";\nimport { callAPI } from \"../utils/CallApi\";\nimport { IND_CURRENCY } from \"../utils/constants\";\n\nconst SearchResults = () => {\n  const [searchParams] = useSearchParams();\n  const [products, setProducts] = useState(null);\n\n  const getSearchResults = () => {\n    const searchTerm = searchParams.get(\"searchTerm\");\n    const category = searchParams.get(\"category\");\n\n    callAPI(`data/search.json`).then((searchResults) => {\n      const categoryResults = searchResults[category];\n      if (searchTerm) {\n        const results = categoryResults.filter((product) =>\n          product.title.toLowerCase().includes(searchTerm.toLowerCase())\n        );\n        setProducts(results);\n      } else {\n        setProducts(categoryResults);\n      }\n    });\n  };\n\n  useEffect(() => {\n    getSearchResults();\n  }, [searchParams]);\n\n  return (\n    <div className=\"min-w-[1200px] max-w-[1300px] m-auto pt-4\">\n      {products &&\n        products.map((product, key) => {\n          return (\n            <Link key={key} to={`/product/${product.id}`}>\n              <div className=\"h-[250px] grid grid-cols-12 rounded mt-1 mb-1 \">\n                <div className=\"col-span-2 p-4 bg-gray-200\">\n                  <img\n                    className=\"m-auto\"\n                    src={product.image_small}\n                    alt=\"Search result product\"\n                  />\n                </div>\n                <div className=\"col-span-10 bg-gray-50 border border-gray-100 hover:bg-gray-100 \">\n                  <div className=\"font-medium text-black p-2\">\n                    <ProductDetails product={product} ratings={true} />\n                    <div className=\"text-xl xl:text-2xl pt-1\">\n                      {IND_CURRENCY.format(product.price)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Link>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default SearchResults;\n"],"mappings":"4GAAA,OAASA,eAAe,CAAEC,IAAI,KAAQ,kBAAkB,CACxD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,cAAc,KAAQ,IAAI,CACnC,OAASC,OAAO,KAAQ,kBAAkB,CAC1C,OAASC,YAAY,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElD,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,IAAAC,gBAAA,CAAuBZ,eAAe,EAAE,CAAAa,iBAAA,CAAAC,cAAA,CAAAF,gBAAA,IAAjCG,YAAY,CAAAF,iBAAA,IACnB,IAAAG,SAAA,CAAgCb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAH,cAAA,CAAAE,SAAA,IAAvCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5B,GAAM,CAAAG,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7B,GAAM,CAAAC,UAAU,CAAGN,YAAY,CAACO,GAAG,CAAC,YAAY,CAAC,CACjD,GAAM,CAAAC,QAAQ,CAAGR,YAAY,CAACO,GAAG,CAAC,UAAU,CAAC,CAE7CjB,OAAO,oBAAoB,CAACmB,IAAI,CAAC,SAACC,aAAa,CAAK,CAClD,GAAM,CAAAC,eAAe,CAAGD,aAAa,CAACF,QAAQ,CAAC,CAC/C,GAAIF,UAAU,CAAE,CACd,GAAM,CAAAM,OAAO,CAAGD,eAAe,CAACE,MAAM,CAAC,SAACC,OAAO,QAC7C,CAAAA,OAAO,CAACC,KAAK,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACX,UAAU,CAACU,WAAW,EAAE,CAAC,GAC/D,CACDZ,WAAW,CAACQ,OAAO,CAAC,CACtB,CAAC,IAAM,CACLR,WAAW,CAACO,eAAe,CAAC,CAC9B,CACF,CAAC,CAAC,CACJ,CAAC,CAEDxB,SAAS,CAAC,UAAM,CACdkB,gBAAgB,EAAE,CACpB,CAAC,CAAE,CAACL,YAAY,CAAC,CAAC,CAElB,mBACEP,IAAA,QAAKyB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CACvDhB,QAAQ,EACPA,QAAQ,CAACiB,GAAG,CAAC,SAACN,OAAO,CAAEO,GAAG,CAAK,CAC7B,mBACE5B,IAAA,CAACP,IAAI,EAAWoC,EAAE,aAAAC,MAAA,CAAcT,OAAO,CAACU,EAAE,CAAG,CAAAL,QAAA,cAC3CxB,KAAA,QAAKuB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7D1B,IAAA,QAAKyB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC1B,IAAA,QACEyB,SAAS,CAAC,QAAQ,CAClBO,GAAG,CAAEX,OAAO,CAACY,WAAY,CACzBC,GAAG,CAAC,uBAAuB,EAC3B,EACE,cACNlC,IAAA,QAAKyB,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC/ExB,KAAA,QAAKuB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC1B,IAAA,CAACJ,cAAc,EAACyB,OAAO,CAAEA,OAAQ,CAACc,OAAO,CAAE,IAAK,EAAG,cACnDnC,IAAA,QAAKyB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CACtC5B,YAAY,CAACsC,MAAM,CAACf,OAAO,CAACgB,KAAK,CAAC,EAC/B,GACF,EACF,GACF,EAjBGT,GAAG,CAkBP,CAEX,CAAC,CAAC,EACA,CAEV,CAAC,CAED,cAAe,CAAAzB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}